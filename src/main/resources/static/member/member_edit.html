<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>member_edit</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap_member_edit.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="../fonts/font-awesome.min.css">
    <link rel="stylesheet" href="../css/Carousel-Hero.css">
    <link rel="stylesheet" href="../css/Footer-with-social-media-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="../css/Main-Content.css">
    <link rel="stylesheet" href="../css/Navbar-Centered-Brand.css">
    <link rel="stylesheet" href="../css/Profile-Edit-Form-1.css">
    <link rel="stylesheet" href="../css/Profile-Edit-Form.css">
    <link rel="stylesheet" href="../css/Profile-with-data-and-skills.css">
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        button {
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5)
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-light navbar-expand-md py-3" style="background: #82d6bd;height: 120px;">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center"></a>
                <a href="../index.html" style="width: 180px;height: 103.19px;">
                    <img data-bss-hover-animate="pulse" src="../img/Logo-removebg.png" style="width: 100%;">
                </a>
                <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2">
                    <span class="visually-hidden">Toggle navigation</span>
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navcol-2" style="font-weight: bold;height: 100px;">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item" id="shop">
                            <a class="nav-link active" data-bss-hover-animate="pulse" href="#"
                                style="border-width: 20px;margin-top: 10px;">
                                <img src="../img/gamepad-solid.svg">商城中心
                            </a>
                        </li>
                        <li class="nav-item" id="shshop">
                            <a class="nav-link" data-bss-hover-animate="pulse" href="#"
                                style="border-width: 20px;margin-top: 10px;color: var(--bs-dark);">
                                <img src="../img/dice-solid.svg">二手商城
                            </a>
                        </li>
                        <li class="nav-item" id="actitcle">
                            <a class="nav-link align-items-xl-center" data-bss-hover-animate="pulse"
                                style="border-width: 20px;margin-top: 11px;color: var(--bs-dark);" href="#">
                                <img class="d-flex mx-auto" src="../img/newspaper-regular.svg"
                                    style="height: 50px;">論壇社群
                            </a>
                        </li>
                        <li class="nav-item" id="activty">
                            <a class="nav-link" data-bss-hover-animate="pulse" href="#"
                                style="border-width: 20px;margin-top: 10px;color: var(--bs-dark);">
                                <img src="../img/champagne-glasses-solid.svg">活動專區
                            </a>
                        </li>
                        <li class="nav-item" id="member_home">
                            <a class="nav-link active" data-bss-hover-animate="pulse" href="member_home.html"
                                style="margin-top: 10px;">
                                <img class="d-flex mx-auto align-items-xl-center" src="../img/user-solid.svg"
                                    style="height: 50px;">會員中心
                            </a>
                        </li>
                        <li class="nav-item" style="height: 80px;" id="help">
                            <a class="nav-link" data-bss-hover-animate="pulse" href="#service_center"
                                style="margin-top: 20px;color: var(--bs-dark);">
                                <img class="d-xl-flex mx-auto" src="../img/handshake-simple-solid.svg"
                                    style="height: 40px;">客服中心
                            </a>
                        </li>
                        <li class="nav-item logout">
                            <a class="nav-link fs-6 text-center" data-bss-hover-animate="pulse" id="sign_out"
                                style="margin-top: 0px;color: var(--bs-dark);width: 80px;height: 100px;">
                                <div id="member_pic-1" class="avatar-bg center"
                                    style="width: 60px;height: 60px;margin-left: 0px;"></div>
                                登出
                            </a>
                        </li>
                    </ul>
                    <footer id="footerpad-1"></footer>
                </div>
            </div>
        </nav>
    </header>
    <div class="main-content">
        <div class="row" style="height: 800px;">
            <div class="col-lg-4 col-xl-2 offset-xl-1" style="height: 600px;">
                <div class="list-group">
                    <a data-bss-hover-animate="pulse" id="info" class="list-group-item list-group-item-action"
                        href="./member_info.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">基本資料管理
                    </a>
                    <a data-bss-hover-animate="pulse" id="setBank" class="list-group-item list-group-item-action"
                        href="./member_common_account.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">常用帳戶設定
                    </a>
                    <a data-bss-hover-animate="pulse" id="friend" class="list-group-item list-group-item-action"
                        href="./member_friendlist.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">好友名單
                    </a>
                    <a data-bss-hover-animate="pulse" id="black" class="list-group-item list-group-item-action"
                        href="./member_blacklist.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">黑名單
                    </a>
                    <a data-bss-hover-animate="pulse" id="trade" class="list-group-item list-group-item-action"
                        href="./member_order_list.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢一般交易
                    </a>
                    <a data-bss-hover-animate="pulse" id="sh_trade" class="list-group-item list-group-item-action"
                        href="./member_shordersearch.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢二手交易
                    </a>
                    <a data-bss-hover-animate="pulse" id="sh_buy" class="list-group-item list-group-item-action"
                        href="./SecondHand_buylist_search.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢二手收購進度
                    </a>
                    <a data-bss-hover-animate="pulse" id="pro_follow" class="list-group-item list-group-item-action"
                        href="./member_product_follow.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">一般商品追蹤清單
                        <br>
                    </a>
                    <a data-bss-hover-animate="pulse" id="sh_follow" class="list-group-item list-group-item-action"
                        href="./member_shloveList.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">二手商品追蹤清單
                    </a>
                    <a data-bss-hover-animate="pulse" id="act_follow" class="list-group-item list-group-item-action"
                        href="#" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢參加活動
                    </a>
                    <a data-bss-hover-animate="pulse" id="notice" class="list-group-item list-group-item-action"
                        href="member_noticelist.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查看通知
                    </a>
                    <a data-bss-hover-animate="pulse" id="login_his" class="list-group-item list-group-item-action"
                        href="member_loginhistory.html" data-bs-toggle="list"
                        style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查看登入紀錄
                    </a>
                </div>
            </div>
            <div class="col">
                <div class="container profile profile-view" id="profile">
                    <h1>基本資料修改</h1>
                    <form>
                        <div class="row profile-row">
                            <div class="col-md-4 col-xxl-3 relative">
                                <div class="avatar">
                                    <div id="member_info_pic" class="avatar-bg center"></div>
                                </div>
                                <label class="form-label">遊戲標籤</label>
                                <input class="form-control" type="text" id="game_label" name="game_label"
                                    style="margin-bottom: 20px; " readonly>
                                <img class="game_label_pic"
                                    style="margin-right: 0px;width: 230px;height: 230px;padding-left: 0px;padding-right: 0px;margin-left: 20px;background: url(&quot;../img/Logo-removebg.png&quot;) center / contain no-repeat, rgba(0,0,0,0);border-radius: 20px;border-color: rgb(136,138,140);">
                            </div>
                            <div class="col-md-8 offset-xxl-0">
                                <div class="row">
                                    <div class="col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">會員帳號</label>
                                            <input class="form-control" type="text" id="member_account"
                                                name="member_account" readonly>
                                        </div>
                                    </div>
                                    <div class="col"></div>
                                    <div class="col-sm-12 col-md-6 col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">會員暱稱</label>
                                            <input class="form-control" type="text" id="nickname" name="nickname"
                                                readonly>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-6 col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">累積紅利</label>
                                            <input class="form-control" type="text" id="member_bonus"
                                                name="member_bonus" readonly>
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">身分證字號</label>
                                            <input class="form-control" type="password" id="id_number" name="id_number"
                                                readonly>
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">生日</label>
                                            <input class="form-control" type="text" id="birth" autocomplete="off"
                                                required="" name="birth" readonly>
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">聯絡地址</label>
                                            <input class="form-control" type="text" id="address" required
                                                name="address">
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group mb-3">
                                            <label class="form-label">連絡電話</label>
                                            <input class="form-control" type="text" id="phone" required name="phone">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="form-label">Email </label>
                                    <input class="form-control" type="email" id="email" required name="email">
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12 content-right">
                                        <button id="submit" class="btn btn-warning form-btn" type="submit">儲存</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <footer id="footerpad">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-lg-8 mx-auto">
                    <ul class="list-inline text-center">
                        <li class="list-inline-item">
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#"><span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#"></a>
                        </li>
                    </ul>
                    <p class="copyright text-muted text-center">Copyright © NBP.gg 2023 | Web Design by Designer</p>
                </div>
            </div>
        </div>
    </footer>


    <script src="../jquery/jquery-3.4.1.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</body>
<script src="../js/member_logout.js"></script>
<script>
    $(window).on("load", function () {
        $.ajax({
            url: "/Five_NBP_gg/memberGetInforServlet",
            method: "POST",
            dataType: "json",
            success: function (response) {
                let member = response;                
                $("input#member_account").val(member.account);
                $("input#password").val(member.password);
                $("input#nickname").val(member.nick);
                $("input#member_bonus").val(member.bonus);
                $("input#id_number").val(member.id_number);
                $("input#birth").val(member.birth);
                $("input#address").val(member.address);
                $("input#phone").val(member.phone);
                $("input#email").val(member.email);
                if (member.headshot !== undefined) {
                    $("div#member_info_pic").css("background-image", `url(${member.headshot})`);
                } else {
                    $("div#member_info_pic").css("background-image", `url(https://www.gravatar.com/avatar/1234566?size=200&d=mm)`);
                }
            }
        })
    })

    $("button#submit").on("click", function () {
        $.ajax({
            url: "/Five_NBP_gg/memberEditInforServlet",
            method: "POST",
            dataType: "json",
            data: {
                account: $("input#member_account").val(),
                password: $("input#password").val(),
                address: $("input#address").val(),
                phone: $("input#phone").val(),
                email: $("input#email").val()
            },
            success: function (response) {
                window.location.href = "member_info.html";
            }
        })
    })
</script>

</html>