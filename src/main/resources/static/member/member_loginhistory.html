<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>member_blacklist</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="../fonts/font-awesome.min.css">
    <link rel="stylesheet" href="../css/Carousel-Hero.css">
    <link rel="stylesheet" href="../css/Footer-with-social-media-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="../css/Main-Content.css">
    <link rel="stylesheet" href="../css/Navbar-Centered-Brand.css">
    <link rel="stylesheet" href="../css/Profile-Edit-Form-1.css">
    <link rel="stylesheet" href="../css/Profile-Edit-Form.css">
    <link rel="stylesheet" href="../css/Profile-with-data-and-skills.css">
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        div.row {
            width: 100%;
        }

        div.pagination {
            width: fit-content;
            margin: auto;
        }

        div.message_button {
            width: fit-content;
            margin-left: 740px;
        }

        span.message_button {
            width: fit-content;
            margin-right: 15px;
        }
        td#login_id{
            visibility: hidden;
            width: 50px;
        }
    </style>
</head>

<body>
<header>
    <nav class="navbar navbar-light navbar-expand-md py-3" style="background: #82d6bd;height: 120px;">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center"></a>
            <a href="../index.html" style="width: 180px;height: 103.19px;">
                <img data-bss-hover-animate="pulse" src="../img/Logo-removebg.png" style="width: 100%;">
            </a>
            <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2">
                <span class="visually-hidden">Toggle navigation</span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navcol-2" style="font-weight: bold;height: 100px;">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item" id="shop">
                        <a class="nav-link active" data-bss-hover-animate="pulse" href="../shop/shopIndex(Vue).html"
                           style="border-width: 20px;margin-top: 10px;">
                            <img src="../img/gamepad-solid.svg">商城中心
                        </a>
                    </li>
                    <li class="nav-item" id="shshop">
                        <a class="nav-link" data-bss-hover-animate="pulse" href="../secondhand/SecondHand_MainView.html"
                           style="border-width: 20px;margin-top: 10px;color: var(--bs-dark);">
                            <img src="../img/dice-solid.svg">二手商城
                        </a>
                    </li>
                    <li class="nav-item" id="actitcle">
                        <a class="nav-link align-items-xl-center" data-bss-hover-animate="pulse"
                           style="border-width: 20px;margin-top: 11px;color: var(--bs-dark);" href="../acticle/article_main.html">
                            <img class="d-flex mx-auto" src="../img/newspaper-regular.svg"
                                 style="height: 50px;">論壇社群
                        </a>
                    </li>
                    <li class="nav-item" id="activty">
                        <a class="nav-link" data-bss-hover-animate="pulse" href="../activity/act_finder.html"
                           style="border-width: 20px;margin-top: 10px;color: var(--bs-dark);">
                            <img src="../img/champagne-glasses-solid.svg">活動專區
                        </a>
                    </li>
                    <li class="nav-item" id="member_home">
                        <a class="nav-link active" data-bss-hover-animate="pulse" href="member_home.html"
                           style="margin-top: 10px;">
                            <img class="d-flex mx-auto align-items-xl-center" src="../img/user-solid.svg"
                                 style="height: 50px;">會員中心
                        </a>
                    </li>
                    <li class="nav-item logout">
                        <a class="nav-link fs-6 text-center" data-bss-hover-animate="pulse" id="sign_out"
                           style="margin-top: 0px;color: var(--bs-dark);width: 80px;height: 100px;">
                            <div id="member_pic-1" class="avatar-bg center"
                                 style="width: 60px;height: 60px;margin-left: 0px;"></div>
                            登出
                        </a>
                    </li>
                </ul>
                <footer id="footerpad-1"></footer>
            </div>
        </div>
    </nav>
</header>

<div class="main-content">
    <div class="row" style="height: 800px;">
        <div class="col-lg-4 col-xl-2 offset-xl-1" style="height: 600px;">
            <div class="list-group" >
                <a data-bss-hover-animate="pulse" id="info"
                   class="list-group-item list-group-item-action"
                   href="./member_info.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">基本資料管理
                </a>
                <a data-bss-hover-animate="pulse" id="trade" class="list-group-item list-group-item-action"
                   href="./member_order_list(Vue).html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢一般交易
                </a>
                <a data-bss-hover-animate="pulse" id="sh_trade" class="list-group-item list-group-item-action"
                   href="./member_shordersearch.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢二手交易
                </a>
                <a data-bss-hover-animate="pulse" id="sh_buy" class="list-group-item list-group-item-action"
                   href="./member_CheckBuyEvent.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢二手收購進度
                </a>
                <a data-bss-hover-animate="pulse" id="pro_follow" class="list-group-item list-group-item-action"
                   href="./member_product_follow(Vue).html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">一般商品追蹤清單
                    <br>
                </a>
                <a data-bss-hover-animate="pulse" id="sh_follow" class="list-group-item list-group-item-action"
                   href="./member_shloveList.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">二手商品追蹤清單
                </a>
                <a data-bss-hover-animate="pulse" id="act_follow" class="list-group-item list-group-item-action"
                   href="./act_report_mem.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查詢參加活動
                </a>
                <a data-bss-hover-animate="pulse" id="notice" class="list-group-item list-group-item-action"
                   href="member_noticelist.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查看通知
                </a>
                <a data-bss-hover-animate="pulse" id="login_his" class="list-group-item list-group-item-action"
                   href="member_loginhistory.html" data-bs-toggle="list"
                   style="background: var(--bs-light);border-top-color: var(--bs-gray-400);border-bottom-color: var(--bs-gray-400);">查看登入紀錄
                </a>
            </div>
        </div>
        <div class="col">
            <div class="container profile profile-view" id="profile" style="height: 800px;">
                <h1>查看登入紀錄</h1>
                <div class="message_button">
                    <span class="message_button">
                            <button type="button" class="have_read btn btn-primary removeAll">刪除所有紀錄</button>
                        </span>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">登入時間</th>
                        <th scope="col">登入裝置</th>
                        <th scope="col">登入位置</th>
                    </tr>
                    </thead>
                    <tbody id="loginTable">
                    <tr id="loginglist">
                        <td id="login_id"></td>
                        <td id="login_time">2023-05-22 09:33</td>
                        <td id="login_device">手機</td>
                        <td id="location">桃園</td>
                    </tr>
                    </tbody>
                </table>
<!--                <div class="pagination">-->
<!--                    <nav aria-label="Page navigation example">-->
<!--                        <ul class="pagination">-->
<!--                            <li class="page-item">-->
<!--                                <a class="page-link" href="#" aria-label="Previous">-->
<!--                                    <span aria-hidden="true">&laquo;</span>-->
<!--                                </a>-->
<!--                            </li>-->
<!--                            <li class="page-item"><a class="page-link" href="#">1</a></li>-->
<!--                            <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--                            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--                            <li class="page-item">-->
<!--                                <a class="page-link" href="#" aria-label="Next">-->
<!--                                    <span aria-hidden="true">&raquo;</span>-->
<!--                                </a>-->
<!--                            </li>-->
<!--                        </ul>-->
<!--                    </nav>-->
<!--                </div>-->

            </div>
        </div>
    </div>
</div>


<footer id="footerpad">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-8 mx-auto">
                <ul class="list-inline text-center">
                    <li class="list-inline-item">
                        <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#"></a>
                    </li>
                </ul>
                <p class="copyright text-muted text-center">Copyright © NBP.gg 2023 | Web Design by Designer</p>
            </div>
        </div>
    </div>
</footer>
<script src="../jquery/jquery-3.4.1.min.js"></script>
<!-- <script src="../bootstrap/js/bootstrap.min.js"></script> -->
<script src="../js/bs-init.js"></script>
<script src="../js/Profile-Edit-Form.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
</body>
<script src="../js/member_logout.js"></script>
<script>
    $(window).on("load", function () {
        $.ajax({
            url: "memberGetLoginServlet",
            method: "POST",
            dataType: "json",
            success: function (response) {
                // let login = response;
                render(response);
            }
        })
    })


    function render(login) {
        $('#loginTable').remove();
        const tbody = document.createElement('tbody');
        tbody.setAttribute('id', 'loginTable');

        for (let i = 0; i < login.length; i++) {
            const tr = document.createElement('tr');
            tr.innerHTML = `
            <td id="login_id">${login[i].login_id}</td>
            <td id="login_time">${login[i].login_time}</td>
            <td id="login_device">${login[i].login_device}</td>
            <td id="location">${login[i].login_city}</td>
            `
            tbody.append(tr);
        }
        $('.table').append(tbody);
    }

    $(document).on("click", "button.removeAll", function () {
        Swal.fire({
            title: '確定刪除?',
            text: "確定刪除全部紀錄?",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'DELECT'
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire(
                    '刪除成功!',
                    'success'
                ).then((result) => {
                        $.ajax({
                            url: "removeAllLoginHistoryServlet",
                            method: "POST",
                            dataType: "json",
                            success: function () {
                                window.location.href = "member_loginhistory.html";
                            }
                        })
                    }
                )
            }
        })
    })
</script>

</html>